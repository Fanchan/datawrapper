!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/signin",t):(n=n||self).signin=t()}(this,(function(){"use strict";function n(n,t,e){return n(e={path:t,exports:{},require:function(n,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&e.path)}},e.exports),e.exports}var t=n((function(n){function t(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?n.exports=t=function(n){return typeof n}:n.exports=t=function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(e)}n.exports=t}));var e=function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n};function r(){}function s(n,t){for(var e in t)n[e]=t[e];return n}function o(n,t){n.appendChild(t)}function i(n,t,e){n.insertBefore(t,e)}function a(n){n.parentNode.removeChild(n)}function c(n){return document.createElement(n)}function u(n){return document.createTextNode(n)}function l(n,t,e,r){n.addEventListener(t,e,r)}function p(n,t,e,r){n.removeEventListener(t,e,r)}function d(n,t,e){null==e?n.removeAttribute(t):n.setAttribute(t,e)}function f(n,t,e){n.style.setProperty(t,e)}function g(n,t,e){n.classList[e?"add":"remove"](t)}function m(){return Object.create(null)}function w(n,e){return n!=n?e==e:n!==e||n&&"object"===t(n)||"function"==typeof n}function v(n,t){return n!=n?t==t:n!==t}function h(n,t){var e=n in this._handlers&&this._handlers[n].slice();if(e)for(var r=0;r<e.length;r+=1){var s=e[r];if(!s.__calling)try{s.__calling=!0,s.call(this,t)}finally{s.__calling=!1}}}function _(n){n._lock=!0,S(n._beforecreate),S(n._oncreate),S(n._aftercreate),n._lock=!1}function b(){return this._state}function y(n,t){n._handlers=m(),n._slots=m(),n._bind=t._bind,n._staged={},n.options=t,n.root=t.root||n,n.store=t.store||n.root.store,t.root||(n._beforecreate=[],n._oncreate=[],n._aftercreate=[])}function E(n,t){var e=this._handlers[n]||(this._handlers[n]=[]);return e.push(t),{cancel:function(){var n=e.indexOf(t);~n&&e.splice(n,1)}}}function S(n){for(;n&&n.length;)n.shift()()}var P={destroy:function(n){this.destroy=r,this.fire("destroy"),this.set=r,this._fragment.d(!1!==n),this._fragment=null,this._state={}},get:b,fire:h,on:E,set:function(n){this._set(s({},n)),this.root._lock||_(this.root)},_recompute:r,_set:function(n){var t=this._state,e={},r=!1;for(var o in n=s(this._staged,n),this._staged={},n)this._differs(n[o],t[o])&&(e[o]=r=!0);r&&(this._state=s(s({},t),n),this._recompute(e,this._state),this._bind&&this._bind(e,this._state),this._fragment&&(this.fire("state",{changed:e,current:this._state,previous:t}),this._fragment.p(e,this._state),this.fire("update",{changed:e,current:this._state,previous:t})))},_stage:function(n){s(this._staged,n)},_mount:function(n,t){this._fragment[this._fragment.i?"i":"m"](n,t||null)},_differs:w},k={};function x(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===n?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(k[n]=window.__dw.vis.meta.locale||{}):k[n]="core"===n?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[n])}function O(n){var t=arguments,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(n=n.trim(),k[e]||x(e),!k[e][n])return"MISSING:"+n;var r=k[e][n];return"string"==typeof r&&arguments.length>2&&(r=r.replace(/\$(\d)/g,(function(n,e){return e=2+Number(e),void 0===t[e]?n:t[e]}))),r}var H=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")};var L=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n};var T=function(n,e){return!e||"object"!==t(e)&&"function"!=typeof e?L(n):e},N=n((function(n){function t(e){return n.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},t(e)}n.exports=t})),j=n((function(n){function t(e,r){return n.exports=t=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},t(e,r)}n.exports=t}));var M=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&j(n,t)};var C=function(n){return-1!==Function.toString.call(n).indexOf("[native code]")};var I=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}},A=n((function(n){function t(e,r,s){return I()?n.exports=t=Reflect.construct:n.exports=t=function(n,t,e){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(n,r));return e&&j(s,e.prototype),s},t.apply(null,arguments)}n.exports=t})),F=n((function(n){function t(e){var r="function"==typeof Map?new Map:void 0;return n.exports=t=function(n){if(null===n||!C(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,t)}function t(){return A(n,arguments,N(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),j(t,n)},t(e)}n.exports=t}));var q=function(n,t){if(null==n)return{};var e,r,s={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(s[e]=n[e]);return s};var U=function(n,t){if(null==n)return{};var e,r,s=q(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(s[e]=n[e])}return s};function D(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function R(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){e(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}function $(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=R({payload:null,raw:!1,method:"GET",baseUrl:"//".concat(dw.backend.__api_domain),mode:"cors",credentials:"include"},t,{headers:R({"Content-Type":"application/json"},t.headers)}),r=e.payload,s=e.baseUrl,o=e.raw,i=U(e,["payload","baseUrl","raw"]),a="".concat(s.replace(/\/$/,""),"/").concat(n.replace(/^\//,""));return r&&(i.body=JSON.stringify(r)),window.fetch(a,i).then((function(n){if(o)return n;if(!n.ok)throw new Z(n);if(204===n.status||!n.headers.get("content-type"))return n;var t=n.headers.get("content-type").split(";")[0];return"application/json"===t?n.json():"image/png"===t||"application/pdf"===t?n.blob():n.text()}))}$.get=z("GET"),$.patch=z("PATCH"),$.put=z("PUT"),$.post=z("POST"),$.head=z("HEAD");function z(n){return function(t,e){if(e&&e.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(n.toLowerCase(),"()"));return $(t,R({},e,{method:n}))}}$.delete=z("DELETE");var G,Z=function(n){function t(n){var e;return H(this,t),(e=T(this,N(t).call(this))).name="HttpReqError",e.status=n.status,e.statusText=n.statusText,e.message="[".concat(n.status,"] ").concat(n.statusText),e.response=n,e}return M(t,n),t}(F(Error)),B=!1;function J(n){var t=n.password;return G?G(t):(!B&&t.length>4&&(B=!0,require(["zxcvbn"],(function(n){G=n}))),!1)}function K(n,t){var e,r=t.password.length>=8&&Q();return{c:function(){r&&r.c(),e=document.createComment("")},m:function(n,t){r&&r.m(n,t),i(n,e,t)},p:function(n,t){t.password.length>=8?r||((r=Q()).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d:function(n){r&&r.d(n),n&&a(e)}}}function Q(n,t){return{c:r,m:r,d:r}}function V(n){y(this,n),this._state=s({password:""},n.data),this._recompute({password:1,passwordStrength:1,passwordTooShort:1,passwordHelp:1},this._state),this._intro=!0,this._fragment=K(0,this._state),n.target&&(this._fragment.c(),this._mount(n.target,n.anchor))}function W(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}s(V.prototype,P),V.prototype._recompute=function(n,t){n.password&&(this._differs(t.passwordTooShort,t.passwordTooShort=t.password.length<8)&&(n.passwordTooShort=!0),this._differs(t.passwordStrength,t.passwordStrength=J(t))&&(n.passwordStrength=!0)),(n.password||n.passwordStrength)&&this._differs(t.passwordHelp,t.passwordHelp=function(n){var t=n.password,e=n.passwordStrength;if(""===t||!e)return O("account / pwd-too-short").replace("%num",8);var r=["bad","weak","ok","good","excellent"][e.score];return O("account / password / ".concat(r))}(t))&&(n.passwordHelp=!0),(n.password||n.passwordTooShort||n.passwordStrength||n.passwordHelp)&&this._differs(t.passwordError,t.passwordError=function(n){var t=n.password,e=n.passwordTooShort,r=n.passwordStrength,s=n.passwordHelp;return!!t&&(e?O("account / pwd-too-short").replace("%num",8):!!(r&&r.score<2)&&s)}(t))&&(n.passwordError=!0),(n.passwordStrength||n.passwordHelp)&&this._differs(t.passwordSuccess,t.passwordSuccess=function(n){var t=n.passwordStrength,e=n.passwordHelp;return!!(t&&t.score>2)&&e}(t))&&(n.passwordSuccess=!0),(n.password||n.passwordTooShort)&&this._differs(t.passwordOk,t.passwordOk=function(n){var t=n.password,e=n.passwordTooShort;return t&&!e}(t))&&(n.passwordOk=!0)};var X=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function Y(){}function nn(n){var t=n();if(t&&t.then)return t.then(Y)}function tn(n,t){try{var e=n()}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}function en(n,t){return n&&n.then?n.then(t):t(n)}function rn(n){return X.test(n)}var sn={doLogIn:function(){try{var n=this,t=n.get(),e=t.loginEmail,r=t.loginPassword,s=t.rememberLogin;return n.set({loggingIn:!0,loginError:"",loginSuccess:""}),en(tn((function(){return W($.post("/v3/auth/login",{payload:{email:e,password:r,keepSession:s}}),(function(){n.set({loginSuccess:"Login successful, reloading page"}),setTimeout((function(){window.window.location.href="/"}),2e3)}))}),(function(t){return nn((function(){if("HttpReqError"===t.name)return W(t.response.json(),(function(e){n.set({loginError:e?e.message:t.message})}));n.set({loginError:t})}))})),(function(){n.set({loggingIn:!1})}))}catch(n){return Promise.reject(n)}},doSignUp:function(){try{var n=this,t=n.get(),e=t.signupEmail,r=t.signupPassword;if(t.signingUp)return;return n.set({signingUp:!0,signupError:"",signupSuccess:""}),en(tn((function(){return W($.post("/v3/auth/signup",{payload:{email:e,password:r}}),(function(){n.set({signupSuccess:"Sign up successful. Redirecting to user dashboard."}),setTimeout((function(){window.location.href="/"}),2e3)}))}),(function(t){return nn((function(){if("HttpReqError"===t.name)return W(t.response.json(),(function(e){n.set({signupError:e?e.message:t.message})}));n.set({signupError:t})}))})),(function(){n.set({signingUp:!1})}))}catch(n){return Promise.reject(n)}},requestNewPassword:function(){try{var n=this,t=n.get().loginEmail;return n.set({requestingPassword:!0,loginError:"",loginSuccess:""}),en(tn((function(){return W($.post("/v3/auth/reset-password",{payload:{email:t}}),(function(){n.set({loginSuccess:O("signin / password-reset / success")})}))}),(function(t){return nn((function(){if("HttpReqError"===t.name)return W(t.response.json(),(function(e){n.set({loginError:e.message?O("signin / password-reset / error / ".concat(e.message)):t.message})}));n.set({loginError:t})}))})),(function(){n.set({requestingPassword:!1})}))}catch(n){return Promise.reject(n)}}};function on(n,t,e){var r=Object.create(n);return r.signin=t[e],r}function an(n,t){var e;return{c:function(){(e=c("div")).className="alert alert-success"},m:function(n,r){i(n,e,r),e.innerHTML=t.loginSuccess},p:function(n,t){n.loginSuccess&&(e.innerHTML=t.loginSuccess)},d:function(n){n&&a(e)}}}function cn(n,t){var e;return{c:function(){(e=c("div")).className="alert alert-error"},m:function(n,r){i(n,e,r),e.innerHTML=t.loginError},p:function(n,t){n.loginError&&(e.innerHTML=t.loginError)},d:function(n){n&&a(e)}}}function un(n,t){var e,r,s,f,g,m=O("password"),w=!1;function v(){w=!0,n.set({loginPassword:g.value}),w=!1}return{c:function(){e=c("div"),r=c("label"),s=u(m),f=u("\n                        "),g=c("input"),r.className="svelte-gekla9",l(g,"input",v),g.className="login-pwd input-xxlarge span3 svelte-gekla9",g.autocomplete="current-password",d(g,"type","password"),e.className="control-group svelte-gekla9"},m:function(n,a){i(n,e,a),o(e,r),o(r,s),o(e,f),o(e,g),g.value=t.loginPassword},p:function(n,t){!w&&n.loginPassword&&(g.value=t.loginPassword)},d:function(n){n&&a(e),p(g,"input",v)}}}function ln(n,t){var e,r,s,g,m,w,v,h,_=O("Remember login?");function b(){n.set({rememberLogin:s.checked})}var y=t.loggingIn&&pn();function E(t){t.preventDefault(),n.doLogIn()}return{c:function(){e=c("div"),r=c("label"),s=c("input"),g=u(" "),m=c("noscript"),w=u("\n                    "),v=c("button"),y&&y.c(),h=u(" Login"),l(s,"change",b),s.className="keep-login svelte-gekla9",d(s,"type","checkbox"),r.className="checkbox svelte-gekla9",r.htmlFor="keep-login",f(r,"margin-top","10px"),l(v,"click",E),v.disabled=t.invalidLoginForm,v.className="btn btn-login btn-primary svelte-gekla9"},m:function(n,a){i(n,e,a),o(e,r),o(r,s),s.checked=t.rememberLogin,o(r,g),o(r,m),m.insertAdjacentHTML("afterend",_),o(e,w),o(e,v),y&&y.m(v,null),o(v,h)},p:function(n,t){n.rememberLogin&&(s.checked=t.rememberLogin),t.loggingIn?y||((y=pn()).c(),y.m(v,h)):y&&(y.d(1),y=null),n.invalidLoginForm&&(v.disabled=t.invalidLoginForm)},d:function(n){n&&a(e),p(s,"change",b),y&&y.d(),p(v,"click",E)}}}function pn(n,t){var e;return{c:function(){(e=c("i")).className="fa fa-fw fa-spinner fa-pulse"},m:function(n,t){i(n,e,t)},d:function(n){n&&a(e)}}}function dn(n,t){var e,r,s,d,g=O("Send new password"),m=t.requestingPassword&&fn();function w(t){t.preventDefault(),n.requestNewPassword()}return{c:function(){e=c("div"),r=c("button"),m&&m.c(),s=u(" "),d=c("noscript"),l(r,"click",w),r.disabled=t.invalidLoginEmail,r.className="btn btn-send-pw btn-primary",f(e,"padding-bottom","10px")},m:function(n,t){i(n,e,t),o(e,r),m&&m.m(r,null),o(r,s),o(r,d),d.insertAdjacentHTML("afterend",g)},p:function(n,t){t.requestingPassword?m||((m=fn()).c(),m.m(r,s)):m&&(m.d(1),m=null),n.invalidLoginEmail&&(r.disabled=t.invalidLoginEmail)},d:function(n){n&&a(e),m&&m.d(),p(r,"click",w)}}}function fn(n,t){var e;return{c:function(){(e=c("i")).className="fa fa-fw fa-spinner fa-pulse"},m:function(n,t){i(n,e,t)},d:function(n){n&&a(e)}}}function gn(n,t){var e,r=O("Can't recall your password?");function s(t){t.preventDefault(),n.set({forgotPassword:!0})}return{c:function(){l(e=c("a"),"click",s),e.href="#/forgot-password"},m:function(n,t){i(n,e,t),e.innerHTML=r},d:function(n){n&&a(e),p(e,"click",s)}}}function mn(n,t){var e,r=O("Return to login...");function s(t){t.preventDefault(),n.set({forgotPassword:!1})}return{c:function(){l(e=c("a"),"click",s),e.href="#/return"},m:function(n,t){i(n,e,t),e.innerHTML=r},d:function(n){n&&a(e),p(e,"click",s)}}}function wn(n,t){var e;return{c:function(){(e=c("style")).textContent="#dwLoginForm {\n                width: 420px;\n                margin-left: -210px;\n                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\n                border: 0;\n                position: relative;\n            }"},m:function(n,t){i(n,e,t)},p:r,d:function(n){n&&a(e)}}}function vn(n,t){var e,r,s,m,w,v,h,_,b,y,E,S,P,k,x,H,L,T,N,j,M,C,I,A,F,q,U,D,R,$,z,G,Z=O("login / signup / headline"),B=O("login / signup / intro"),J=O("email"),K=!1,Q=O("password"),W={},X=O("account / invite / password-clear-text"),Y=O("Sign Up"),nn=t.signupSuccess&&hn(n,t),tn=t.signupError&&_n(n,t);function en(){K=!0,n.set({signupEmail:k.value}),K=!1}function rn(n){return n.showPasswordAsClearText?yn:bn}var sn=rn(t),on=sn(n,t),an={};void 0!==t.signupPassword&&(an.password=t.signupPassword,W.password=!0),void 0!==t.passwordHelp&&(an.passwordHelp=t.passwordHelp,W.passwordHelp=!0),void 0!==t.passwordSuccess&&(an.passwordSuccess=t.passwordSuccess,W.passwordSuccess=!0),void 0!==t.passwordError&&(an.passwordError=t.passwordError,W.passwordError=!0),void 0!==t.signupPasswordOk&&(an.passwordOk=t.signupPasswordOk,W.passwordOk=!0);var cn=new V({root:n.root,store:n.store,data:an,_bind:function(t,e){var r={};!W.password&&t.password&&(r.signupPassword=e.password),!W.passwordHelp&&t.passwordHelp&&(r.passwordHelp=e.passwordHelp),!W.passwordSuccess&&t.passwordSuccess&&(r.passwordSuccess=e.passwordSuccess),!W.passwordError&&t.passwordError&&(r.passwordError=e.passwordError),!W.passwordOk&&t.passwordOk&&(r.signupPasswordOk=e.passwordOk),n._set(r),W={}}});function un(n){return n.passwordError?Pn:n.passwordSuccess?Sn:n.passwordHelp?En:void 0}n.root._beforecreate.push((function(){cn._bind({password:1,passwordHelp:1,passwordSuccess:1,passwordError:1,passwordOk:1},cn.get())}));var ln=un(t),pn=ln&&ln(n,t);function dn(){n.set({showPasswordAsClearText:q.checked})}function fn(n){return n.signingUp?xn:kn}var gn=fn(t),mn=gn(n,t);function wn(t){t.preventDefault(),n.doSignUp()}return{c:function(){e=c("div"),r=c("h3"),s=u("\n            "),m=c("p"),w=u("\n\n            "),nn&&nn.c(),v=u(" "),tn&&tn.c(),h=u("\n\n            "),_=c("div"),b=c("form"),y=c("div"),E=c("label"),S=u(J),P=u("\n                        "),k=c("input"),x=u("\n                    "),H=c("div"),L=c("label"),T=u(Q),N=u("\n                        "),on.c(),j=u("\n                        "),M=c("div"),cn._fragment.c(),C=u("\n                            "),pn&&pn.c(),I=u("\n                    "),A=c("div"),F=c("label"),q=c("input"),U=u(" "),D=c("noscript"),R=u("\n                    "),$=c("button"),mn.c(),z=u("\n                        \n                        "),G=c("noscript"),r.className="svelte-gekla9",E.className="svelte-gekla9",l(k,"input",en),d(k,"type","email"),k.autocomplete="username",k.className="span3 input-xlarge register-email svelte-gekla9",y.className="control-group svelte-gekla9",g(y,"error",t.invalidSignupEmail),L.className="svelte-gekla9",f(M,"width","270px"),H.className="control-group svelte-gekla9",g(H,"warning",t.passwordError),g(H,"success",t.passwordSuccess),l(q,"change",dn),d(q,"type","checkbox"),q.className="svelte-gekla9",F.className="checkbox svelte-gekla9",F.htmlFor="keep-login",f(F,"margin-top","10px"),A.className="control-group svelte-gekla9",l($,"click",wn),$.disabled=t.invalidSignupForm,$.className="btn btn-default",_.className="signup-form form-vertcal",e.className="span3 row-signup svelte-gekla9"},m:function(n,a){i(n,e,a),o(e,r),r.innerHTML=Z,o(e,s),o(e,m),m.innerHTML=B,o(e,w),nn&&nn.m(e,null),o(e,v),tn&&tn.m(e,null),o(e,h),o(e,_),o(_,b),o(b,y),o(y,E),o(E,S),o(y,P),o(y,k),k.value=t.signupEmail,o(b,x),o(b,H),o(H,L),o(L,T),o(H,N),on.m(H,null),o(H,j),o(H,M),cn._mount(M,null),o(M,C),pn&&pn.m(M,null),o(b,I),o(b,A),o(A,F),o(F,q),q.checked=t.showPasswordAsClearText,o(F,U),o(F,D),D.insertAdjacentHTML("afterend",X),o(b,R),o(b,$),mn.m($,null),o($,z),o($,G),G.insertAdjacentHTML("afterend",Y)},p:function(r,s){(t=s).signupSuccess?nn?nn.p(r,t):((nn=hn(n,t)).c(),nn.m(e,v)):nn&&(nn.d(1),nn=null),t.signupError?tn?tn.p(r,t):((tn=_n(n,t)).c(),tn.m(e,h)):tn&&(tn.d(1),tn=null),!K&&r.signupEmail&&(k.value=t.signupEmail),r.invalidSignupEmail&&g(y,"error",t.invalidSignupEmail),sn===(sn=rn(t))&&on?on.p(r,t):(on.d(1),(on=sn(n,t)).c(),on.m(H,j));var o={};!W.password&&r.signupPassword&&(o.password=t.signupPassword,W.password=void 0!==t.signupPassword),!W.passwordHelp&&r.passwordHelp&&(o.passwordHelp=t.passwordHelp,W.passwordHelp=void 0!==t.passwordHelp),!W.passwordSuccess&&r.passwordSuccess&&(o.passwordSuccess=t.passwordSuccess,W.passwordSuccess=void 0!==t.passwordSuccess),!W.passwordError&&r.passwordError&&(o.passwordError=t.passwordError,W.passwordError=void 0!==t.passwordError),!W.passwordOk&&r.signupPasswordOk&&(o.passwordOk=t.signupPasswordOk,W.passwordOk=void 0!==t.signupPasswordOk),cn._set(o),W={},ln===(ln=un(t))&&pn?pn.p(r,t):(pn&&pn.d(1),(pn=ln&&ln(n,t))&&pn.c(),pn&&pn.m(M,null)),r.passwordError&&g(H,"warning",t.passwordError),r.passwordSuccess&&g(H,"success",t.passwordSuccess),r.showPasswordAsClearText&&(q.checked=t.showPasswordAsClearText),gn!==(gn=fn(t))&&(mn.d(1),(mn=gn(n,t)).c(),mn.m($,z)),r.invalidSignupForm&&($.disabled=t.invalidSignupForm)},d:function(n){n&&a(e),nn&&nn.d(),tn&&tn.d(),p(k,"input",en),on.d(),cn.destroy(),pn&&pn.d(),p(q,"change",dn),mn.d(),p($,"click",wn)}}}function hn(n,t){var e;return{c:function(){(e=c("div")).className="alert alert-success"},m:function(n,r){i(n,e,r),e.innerHTML=t.signupSuccess},p:function(n,t){n.signupSuccess&&(e.innerHTML=t.signupSuccess)},d:function(n){n&&a(e)}}}function _n(n,t){var e;return{c:function(){(e=c("div")).className="alert alert-error"},m:function(n,r){i(n,e,r),e.innerHTML=t.signupError},p:function(n,t){n.signupError&&(e.innerHTML=t.signupError)},d:function(n){n&&a(e)}}}function bn(n,t){var e,r=!1;function s(){r=!0,n.set({signupPassword:e.value}),r=!1}return{c:function(){l(e=c("input"),"input",s),e.dataset.lpignore="true",e.autocomplete="off",d(e,"type","password"),e.className="span3 input-xlarge register-pwd svelte-gekla9"},m:function(n,r){i(n,e,r),e.value=t.signupPassword},p:function(n,t){!r&&n.signupPassword&&(e.value=t.signupPassword)},d:function(n){n&&a(e),p(e,"input",s)}}}function yn(n,t){var e,r=!1;function s(){r=!0,n.set({signupPassword:e.value}),r=!1}return{c:function(){l(e=c("input"),"input",s),e.dataset.lpignore="true",e.autocomplete="off",d(e,"type","text"),e.className="span3 input-xlarge register-pwd svelte-gekla9"},m:function(n,r){i(n,e,r),e.value=t.signupPassword},p:function(n,t){!r&&n.signupPassword&&(e.value=t.signupPassword)},d:function(n){n&&a(e),p(e,"input",s)}}}function En(n,t){var e;return{c:function(){(e=c("p")).className="help muted svelte-gekla9"},m:function(n,r){i(n,e,r),e.innerHTML=t.passwordHelp},p:function(n,t){n.passwordHelp&&(e.innerHTML=t.passwordHelp)},d:function(n){n&&a(e)}}}function Sn(n,t){var e;return{c:function(){(e=c("p")).className="help text-success svelte-gekla9"},m:function(n,r){i(n,e,r),e.innerHTML=t.passwordSuccess},p:function(n,t){n.passwordSuccess&&(e.innerHTML=t.passwordSuccess)},d:function(n){n&&a(e)}}}function Pn(n,t){var e;return{c:function(){(e=c("p")).className="help text-warning svelte-gekla9"},m:function(n,r){i(n,e,r),e.innerHTML=t.passwordError},p:function(n,t){n.passwordError&&(e.innerHTML=t.passwordError)},d:function(n){n&&a(e)}}}function kn(n,t){var e;return{c:function(){(e=c("i")).className="fa fa-fw fa-pencil"},m:function(n,t){i(n,e,t)},d:function(n){n&&a(e)}}}function xn(n,t){var e;return{c:function(){(e=c("i")).className="fa fa-fw fa-spinner fa-pulse"},m:function(n,t){i(n,e,t)},d:function(n){n&&a(e)}}}function On(n,t){for(var e,r,s,l=O("login / alternative signin"),p=t.alternativeSignIn,d=[],f=0;f<p.length;f+=1)d[f]=Ln(n,on(t,p,f));return{c:function(){e=c("div"),r=c("noscript"),s=u(" ");for(var n=0;n<d.length;n+=1)d[n].c();e.className="alternative-signin svelte-gekla9"},m:function(n,t){i(n,e,t),o(e,r),r.insertAdjacentHTML("beforebegin",l),o(e,s);for(var a=0;a<d.length;a+=1)d[a].m(e,null)},p:function(t,r){if(t.alternativeSignIn){p=r.alternativeSignIn;for(var s=0;s<p.length;s+=1){var o=on(r,p,s);d[s]?d[s].p(t,o):(d[s]=Ln(n,o),d[s].c(),d[s].m(e,null))}for(;s<d.length;s+=1)d[s].d(1);d.length=p.length}},d:function(n){n&&a(e),function(n,t){for(var e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}(d,n)}}}function Hn(n,t){var e,r;return{c:function(){(e=c("i")).className=r=t.signin.icon+" svelte-gekla9"},m:function(n,t){i(n,e,t)},p:function(n,t){n.alternativeSignIn&&r!==(r=t.signin.icon+" svelte-gekla9")&&(e.className=r)},d:function(n){n&&a(e)}}}function Ln(n,t){var e,r,s,l,p=t.signin.label,d=t.signin.icon&&Hn(0,t);return{c:function(){e=c("a"),d&&d.c(),r=u(" "),s=c("noscript"),e.href=l=t.signin.url,e.className="alternative-signin-link svelte-gekla9"},m:function(n,t){i(n,e,t),d&&d.m(e,null),o(e,r),o(e,s),s.insertAdjacentHTML("afterend",p)},p:function(n,t){t.signin.icon?d?d.p(n,t):((d=Hn(0,t)).c(),d.m(e,r)):d&&(d.d(1),d=null),n.alternativeSignIn&&p!==(p=t.signin.label)&&(!function(n){for(;n.nextSibling;)n.parentNode.removeChild(n.nextSibling)}(s),s.insertAdjacentHTML("afterend",p)),n.alternativeSignIn&&l!==(l=t.signin.url)&&(e.href=l)},d:function(n){n&&a(e),d&&d.d()}}}function Tn(n){y(this,n),this._state=s({noSignup:!1,alternativeSignIn:[],forgotPassword:!1,loginEmail:"",loginPassword:"",rememberLogin:!0,loginEmailError:!1,loginError:"",loginSuccess:"",signupEmail:"",signupPassword:"",signupPasswordOk:!1,passwordHelp:!1,passwordSuccess:!1,passwordError:!1,showPasswordAsClearText:!1,requestingPassword:!1,loggingIn:!1,signingUp:!1},n.data),this._recompute({loginEmail:1,forgotPassword:1,loggingIn:1,loginPassword:1,signingUp:1,signupEmail:1,signupPassword:1,signupPasswordOk:1},this._state),this._intro=!0,this._fragment=function(n,t){var e,r,s,f,m,w,v,h,_,b,y,E,S,P,k,x,H,L,T,N,j,M,C,I,A,F,q,U,D,R,$,z,G,Z,B,J=O("login / login / headline"),K=O("login / login / intro"),Q=O("email"),V=!1,W=O("login / signup / confirmation-email"),X=O("login / signup / confirmation-email-hint"),Y=O("login / signup / confirm"),nn=t.loginSuccess&&an(n,t),tn=t.loginError&&cn(n,t);function en(){V=!0,n.set({loginEmail:L.value}),V=!1}var rn=!t.forgotPassword&&un(n,t),sn=!t.forgotPassword&&ln(n,t),on=t.forgotPassword&&dn(n,t);function pn(n){return n.forgotPassword?mn:gn}var fn=pn(t),hn=fn(n,t);function _n(n){return n.noSignup?wn:vn}var bn=_n(t),yn=bn(n,t),En=t.alternativeSignIn.length&&On(n,t);function Sn(t){t.stopPropagation(),n.fire("keyup",t)}return{c:function(){e=c("div"),(r=c("button")).textContent="×",s=u("\n    "),f=c("div"),m=c("div"),w=c("h3"),v=u("\n\n            "),h=c("p"),_=u("\n\n            "),nn&&nn.c(),b=u(" "),tn&&tn.c(),y=u("\n\n            "),E=c("form"),S=c("div"),P=c("div"),k=c("label"),x=u(Q),H=u("\n                        "),L=c("input"),T=u("\n                    "),rn&&rn.c(),N=u("\n                "),sn&&sn.c(),j=u("\n\n            "),M=c("div"),on&&on.c(),C=u("\n                "),I=c("div"),hn.c(),F=u("\n        "),yn.c(),q=u("\n\n    "),En&&En.c(),U=u("\n\n    "),D=c("div"),R=c("div"),$=c("noscript"),z=u("\n\n            "),G=c("div"),Z=u("\n\n            "),B=c("button"),r.type="button",r.className="close",r.dataset.dismiss="modal",w.className="svelte-gekla9",k.className="svelte-gekla9",l(L,"input",en),L.className="login-email input-xxlarge span3 svelte-gekla9",L.autocomplete="username",d(L,"type","email"),P.className="control-group svelte-gekla9",g(P,"error",t.invalidLoginEmail),E.className="login-form form-vertical",m.className=A="span"+(t.noSignup?4:3)+" row-login svelte-gekla9",f.className="row login-signup",G.className="sub",B.className="button btn btn-got-it",R.className="jumbo-text",D.className="signup-confirm hidden",l(e,"keyup",Sn),e.className="modal-body svelte-gekla9",e.dataset.piwikMask=!0},m:function(n,a){i(n,e,a),o(e,r),o(e,s),o(e,f),o(f,m),o(m,w),w.innerHTML=J,o(m,v),o(m,h),h.innerHTML=K,o(m,_),nn&&nn.m(m,null),o(m,b),tn&&tn.m(m,null),o(m,y),o(m,E),o(E,S),o(S,P),o(P,k),o(k,x),o(P,H),o(P,L),L.value=t.loginEmail,o(S,T),rn&&rn.m(S,null),o(E,N),sn&&sn.m(E,null),o(m,j),o(m,M),on&&on.m(M,null),o(M,C),o(M,I),hn.m(I,null),o(f,F),yn.m(f,null),o(e,q),En&&En.m(e,null),o(e,U),o(e,D),o(D,R),o(R,$),$.insertAdjacentHTML("beforebegin",W),o(R,z),o(R,G),G.innerHTML=X,o(R,Z),o(R,B),B.innerHTML=Y},p:function(t,r){r.loginSuccess?nn?nn.p(t,r):((nn=an(n,r)).c(),nn.m(m,b)):nn&&(nn.d(1),nn=null),r.loginError?tn?tn.p(t,r):((tn=cn(n,r)).c(),tn.m(m,y)):tn&&(tn.d(1),tn=null),!V&&t.loginEmail&&(L.value=r.loginEmail),t.invalidLoginEmail&&g(P,"error",r.invalidLoginEmail),r.forgotPassword?rn&&(rn.d(1),rn=null):rn?rn.p(t,r):((rn=un(n,r)).c(),rn.m(S,null)),r.forgotPassword?sn&&(sn.d(1),sn=null):sn?sn.p(t,r):((sn=ln(n,r)).c(),sn.m(E,null)),r.forgotPassword?on?on.p(t,r):((on=dn(n,r)).c(),on.m(M,C)):on&&(on.d(1),on=null),fn!==(fn=pn(r))&&(hn.d(1),(hn=fn(n,r)).c(),hn.m(I,null)),t.noSignup&&A!==(A="span"+(r.noSignup?4:3)+" row-login svelte-gekla9")&&(m.className=A),bn===(bn=_n(r))&&yn?yn.p(t,r):(yn.d(1),(yn=bn(n,r)).c(),yn.m(f,null)),r.alternativeSignIn.length?En?En.p(t,r):((En=On(n,r)).c(),En.m(e,U)):En&&(En.d(1),En=null)},d:function(n){n&&a(e),nn&&nn.d(),tn&&tn.d(),p(L,"input",en),rn&&rn.d(),sn&&sn.d(),on&&on.d(),hn.d(),yn.d(),En&&En.d(),p(e,"keyup",Sn)}}}(this,this._state),n.target&&(this._fragment.c(),this._mount(n.target,n.anchor),_(this))}function Nn(n,t){this._handlers={},this._dependents=[],this._computed=m(),this._sortedComputedProperties=[],this._state=s({},n),this._differs=t&&t.immutable?v:w}s(Tn.prototype,P),s(Tn.prototype,sn),Tn.prototype._recompute=function(n,t){var e,r,s,o,i,a,c;(n.loginEmail||n.forgotPassword)&&this._differs(t.invalidLoginEmail,t.invalidLoginEmail=(r=(e=t).loginEmail,s=e.forgotPassword,!(rn(r)||""===r&&!s)))&&(n.invalidLoginEmail=!0),(n.loggingIn||n.loginEmail||n.loginPassword)&&this._differs(t.invalidLoginForm,t.invalidLoginForm=function(n){var t=n.loggingIn,e=n.loginEmail,r=n.loginPassword;return!!t||(!rn(e)||""===r)}(t))&&(n.invalidLoginForm=!0),(n.signingUp||n.signupEmail||n.signupPassword||n.signupPasswordOk)&&this._differs(t.invalidSignupForm,t.invalidSignupForm=(i=(o=t).signingUp,a=o.signupEmail,o.signupPassword,c=o.signupPasswordOk,!!i||!rn(a)||!c||void 0))&&(n.invalidSignupForm=!0),(n.signupEmail||n.forgotPassword)&&this._differs(t.invalidSignupEmail,t.invalidSignupEmail=function(n){var t=n.signupEmail;return n.forgotPassword,!rn(t)&&""!==t}(t))&&(n.invalidSignupEmail=!0)},s(Nn.prototype,{_add:function(n,t){this._dependents.push({component:n,props:t})},_init:function(n){for(var t={},e=0;e<n.length;e+=1){var r=n[e];t["$"+r]=this._state[r]}return t},_remove:function(n){for(var t=this._dependents.length;t--;)if(this._dependents[t].component===n)return void this._dependents.splice(t,1)},_set:function(n,t){var e=this,r=this._state;this._state=s(s({},r),n);for(var o=0;o<this._sortedComputedProperties.length;o+=1)this._sortedComputedProperties[o].update(this._state,t);this.fire("state",{changed:t,previous:r,current:this._state}),this._dependents.filter((function(n){for(var r={},s=!1,o=0;o<n.props.length;o+=1){var i=n.props[o];i in t&&(r["$"+i]=e._state[i],s=!0)}if(s)return n.component._stage(r),!0})).forEach((function(n){n.component.set({})})),this.fire("update",{changed:t,previous:r,current:this._state})},_sortComputedProperties:function(){var n,t=this._computed,e=this._sortedComputedProperties=[],r=m();function s(o){var i=t[o];i&&(i.deps.forEach((function(t){if(t===n)throw new Error("Cyclical dependency detected between ".concat(t," <-> ").concat(o));s(t)})),r[o]||(r[o]=!0,e.push(i)))}for(var o in this._computed)s(n=o)},compute:function(n,t,e){var r,o=this,i={deps:t,update:function(s,i,a){var c=t.map((function(n){return n in i&&(a=!0),s[n]}));if(a){var u=e.apply(null,c);o._differs(u,r)&&(r=u,i[n]=!0,s[n]=r)}}};this._computed[n]=i,this._sortComputedProperties();var a=s({},this._state),c={};i.update(a,c,!0),this._set(a,c)},fire:h,get:b,on:E,set:function(n){var t=this._state,e=this._changed={},r=!1;for(var s in n){if(this._computed[s])throw new Error("'".concat(s,"' is a read-only computed property"));this._differs(n[s],t[s])&&(e[s]=r=!0)}r&&this._set(n,e)}});return{App:Tn,data:{},store:new Nn({}),init:function(n){}}}));
